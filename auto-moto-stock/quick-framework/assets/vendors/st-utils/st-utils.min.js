var STUtils=STUtils||{};!function(t){"use strict";STUtils.popup={show:function(o){var n=t("body");n.css("overflow","hidden");var s=t('<div class="stu-popup-wrap"></div>');n.append(s),s.on("stu-popup-close",(function(){var o=t(this);"target"===o.data("stu-popup-type")&&o.children().appendTo(o.data("stu-popup-target")),o.remove(),n.css("overflow","")})),STUtils.loading.show(s);var l=t('<button type="button" class="stu-popup-close">Ã—</button>');l.on("click",(function(){t(this).closest(".stu-popup-wrap").trigger("stu-popup-close")})),s.data("stu-popup-type",o.type),"target"===o.type?(t(o.target).children().appendTo(s),s.data("stu-popup-target",o.target),s.find(".stu-popup-close").remove(),s.find(".stu-popup-header").append(l),STUtils.loading.close(),"function"==typeof o.callback&&o.callback(s)):"inline"===o.type?(s.append(o.content),s.find(".stu-popup-close").remove(),s.find(".stu-popup-header").append(l),STUtils.loading.close(),"function"==typeof o.callback&&o.callback(s)):t.ajax({type:void 0===o.method?"GET":o.method,url:o.src,success:function(n){s.append(n),s.find(".stu-popup-close").remove(),s.find(".stu-popup-header").append(l),s.find(".stu-navigation a").on("click",(function(o){o.preventDefault(),t(this).closest(".stu-navigation-disabled").length})),"function"==typeof o.callback&&o.callback(s)},error:function(){n.css("overflow",""),s.remove()},complete:function(){STUtils.loading.close()}})},close:function(){t(".stu-popup-wrap").last().trigger("stu-popup-close")}},STUtils.loading={$_loading:null,show:function(o){null===STUtils.loading.$_loading&&(STUtils.loading.$_loading=t('<div class="stu-loading"><span></span></div>')),STUtils.loading.$_loading.appendTo(o)},close:function(){null!==STUtils.loading.$_loading&&STUtils.loading.$_loading.remove()}},STUtils.loadingButton={show:function(t){var o=void 0===t.data("stu-lb")?"stu-lb-left":"stu-lb-".$btn.data("stu-lb");t.append('<div class="stu-lb"></div>'),t.addClass(o).addClass("stu-lb-running")},hide:function(t){var o=void 0===t.data("stu-lb")?"stu-lb-left":"stu-lb-".$btn.data("stu-lb");t.removeClass(o).removeClass("stu-lb-running"),t.find(".stu-lb").remove()}}}(jQuery);