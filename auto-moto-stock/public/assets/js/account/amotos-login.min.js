!function(s){"use strict";s(document).ready((function(){return;if("undefined"!=typeof amotos_login_vars){var e=amotos_login_vars.ajax_url,a=amotos_login_vars.loading;s(".amotos-login").validate({errorElement:"span",rules:{user_login:{required:!0},user_password:{required:!0}},messages:{user_login:"",user_password:""}}),s(".amotos-login-button").on("click",(function(n){n.preventDefault();var o=s(this).parents("form"),t=s(this).data("redirect-url"),c=s(this).parents(".amotos-login-wrap").find(".amotos_messages");o.valid()&&s.ajax({type:"post",url:e,dataType:"json",data:o.serialize(),beforeSend:function(){c.empty().append('<span class="success text-success"> '+a+"</span>")},success:function(s){s.success?(c.empty().append('<span class="success text-success"><i class="fa fa-check"></i> '+s.message+"</span>"),""==t?window.location.reload():window.location.href=t):("function"==typeof amotos_reset_recaptcha&&amotos_reset_recaptcha(),c.empty().append('<span class="error text-danger"><i class="fa fa-close"></i> '+s.message+"</span>"))}})})),s(".amotos_forgetpass").on("click",(function(n){n.preventDefault();var o=s(this).parents("form");s.ajax({type:"post",url:e,dataType:"json",data:o.serialize(),beforeSend:function(){s(".amotos_messages_reset_password").empty().append('<span class="success text-success"> '+a+"</span>")},success:function(e){e.success?s(".amotos_messages_reset_password").empty().append('<span class="success text-success"><i class="fa fa-check"></i> '+e.message+"</span>"):("function"==typeof amotos_reset_recaptcha&&amotos_reset_recaptcha(),s(".amotos_messages_reset_password").empty().append('<span class="error text-danger"><i class="fa fa-close"></i> '+e.message+"</span>"))}})})),s(".amotos-reset-password").off("click").on("click",(function(e){e.preventDefault();var a=s(this).closest(".amotos-login-wrap").slideUp("slow").next(".amotos-reset-password-wrap");a.slideDown("slow"),a.find(".reset_password_user_login").focus()})),s(".amotos-back-to-login").off("click").on("click",(function(e){e.preventDefault();var a=s(this).closest(".amotos-reset-password-wrap").slideUp("slow").prev(".amotos-login-wrap");a.slideDown("slow"),a.find(".login_user_login").focus()})),s("#amotos_signin_modal").on("shown.bs.modal",(function(){s(".amotos-back-to-login",s("#amotos_signin_modal")).click()})),s("#amotos_signin_modal").on("hide.bs.modal",(function(){s(".amotos-back-to-login",s("#amotos_signin_modal")).click()}))}}))}(jQuery);