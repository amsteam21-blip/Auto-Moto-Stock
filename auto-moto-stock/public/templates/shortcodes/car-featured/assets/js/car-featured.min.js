var AMOTOS_car_featured=AMOTOS_car_featured||{};!function(e){"use strict";var t=!0,a=e("body").hasClass("rtl");AMOTOS_car_featured={vars:{filter_id:"",car_items:[]},init:function(){this.filterCarousel(),this.resize(),AMOTOS.select_term(),this.cityFilterScrollBar(),e(".car-sync-content-wrap").each((function(){var t=e(this);AMOTOS_car_featured.syncCarCarousel(t)})),this.calcPaddingTopBottom(),setTimeout(this.calcPaddingTopBottom,300),setTimeout(this.calcPaddingTopBottom,1e3)},filterCarousel:function(){e('.amotos-car-featured [data-filter-type="carousel"]').each((function(){var t=e("a",e(this));AMOTOS_car_featured.executeFilter(t)}))},executeFilter:function(a){a.on("click",(function(r){r.preventDefault();var i=e(this),c=i.parent().attr("data-filter_id"),n=e('.car-content[data-filter_id="'+c+'"]'),s=n.parent();if(i.hasClass("active-filter"))return i.css("cursor","not-allowed"),!1;if(i.parent().children("a").css("cursor","wait"),t){t=!1;var o=i.data("filter"),l=i.parent().next().children("select");if(AMOTOS_car_featured.vars.filter_id=i.parent().data("filter_id"),i.parent().find(".active-filter").removeClass("active-filter"),i.addClass("active-filter"),s.css("height",s.outerHeight()),void 0===AMOTOS_car_featured.vars.car_items[o+"-"+AMOTOS_car_featured.vars.filter_id]){i.css("width",i.outerWidth());var d=a.closest(".filter-wrap").data("admin-url");e.ajax({url:d,data:{action:"amotos_car_featured_fillter_city_ajax",layout_style:i.parent().data("layout_style"),car_type:i.parent().data("car_type"),car_status:i.parent().data("car_status"),car_styling:i.parent().data("car_styling"),car_cities:i.parent().data("car_cities"),car_state:i.parent().data("car_state"),car_neighborhood:i.parent().data("car_neighborhood"),car_label:i.parent().data("car_label"),color_scheme:i.parent().data("color_scheme"),item_amount:i.parent().data("item_amount"),image_size:i.parent().data("image_size"),include_heading:i.parent().data("include_heading"),heading_sub_title:i.parent().data("heading_sub_title"),heading_title:i.parent().data("heading_title"),heading_text_align:i.parent().data("heading_text_align"),car_city:i.data("filter"),el_class:i.parent().data("el_class")},success:function(a){var r=e(".car-item",a);AMOTOS_car_featured.vars.car_items[o+"-"+AMOTOS_car_featured.vars.filter_id]=a,n.css("opacity",0),n.trigger("destroy.owl.carousel"),n.html(r),n.css("opacity",1),n.imagesLoaded((function(){AMOTOS.set_item_effect(r,"hide"),AMOTOS_Carousel.owlCarousel(),r=e(".car-item",n),AMOTOS.set_item_effect(r,"show"),setTimeout((function(){s.css("height","auto")}),200)})),setTimeout((function(){i.css("width","auto")}),100),t=!0,l.removeAttr("disabled"),l.children("option").removeAttr("selected"),l.children('option[value="'+o+'"]').attr("selected","selected"),i.parent().children("a").css("cursor","pointer"),i.parent().children(".active-filter").css("cursor","not-allowed")},error:function(){t=!0}})}else{var u=AMOTOS_car_featured.vars.car_items[o+"-"+AMOTOS_car_featured.vars.filter_id],f=e(".car-item",u);n.css("opacity",0),n.trigger("destroy.owl.carousel"),n.html(f),AMOTOS.set_item_effect(f,"hide"),n.css("opacity",1),AMOTOS_Carousel.owlCarousel(),n.imagesLoaded((function(){f=e(".car-item",n),AMOTOS.set_item_effect(f,"show"),setTimeout((function(){s.css("height","auto")}),200)})),t=!0,l.removeAttr("disabled"),l.children("option").removeAttr("selected"),l.children('option[value="'+o+'"]').attr("selected","selected"),i.parent().children("a").css("cursor","pointer"),i.parent().children(".active-filter").css("cursor","not-allowed")}}}))},resize:function(){e(window).resize((function(){AMOTOS_car_featured.executeResize()})),e(window).on("orientationchange",(function(){AMOTOS_car_featured.executeResize()}))},executeResize:function(){e(".car-content.owl-carousel").each((function(){var t=e(this);setTimeout((function(){var a=e(".car-item",t);AMOTOS.set_item_effect(a,"show")}),500)})),AMOTOS_car_featured.cityFilterScrollBar(),e(".car-sync-content-wrap").each((function(){AMOTOS_car_featured.syncCarCarousel(e(this))})),AMOTOS_car_featured.calcPaddingTopBottom()},cityFilterScrollBar:function(){e(".car-filter-content",".car-cities-filter").each((function(){var t=e(this);t.outerHeight()>530?(t.css("height","530px"),t.css("overflow-y","auto"),"undefined"!=typeof PerfectScrollbar&&new PerfectScrollbar(this,{wheelSpeed:.5,suppressScrollX:!0})):t.css("height","auto")}))},syncCarCarousel:function(e){var t=e.find(".car-content-carousel"),r=e.find(".car-image-carousel");t.owlCarousel({items:1,nav:!1,navElement:"div",dots:!1,loop:!1,smartSpeed:500,rtl:a}).on("changed.owl.carousel",(function(e){var t=e.item.index;r.find(".owl-item").removeClass("current").eq(t).addClass("current");var a=r.find(".owl-item.active").length-1,i=r.find(".owl-item.active").first().index(),c=r.find(".owl-item.active").last().index();t>c&&r.data("owl.carousel").to(t,500,!0);t<i&&r.data("owl.carousel").to(t-a,500,!0)})),r.on("initialized.owl.carousel",(function(){r.find(".owl-item").eq(0).addClass("current")})).owlCarousel({items:1,nav:!0,navElement:"div",navText:['<i class="fa fa-angle-left"></i>','<i class="fa fa-angle-right"></i>'],dots:!1,rtl:a,margin:0}).on("changed.owl.carousel",(function(e){var a=e.item.index;t.data("owl.carousel").to(a,500,!0)})),setTimeout((function(){window.dispatchEvent(new Event("resize"))}),500)},calcPaddingTopBottom:function(){return;e(".main-content-inner",".car-sync-carousel").each((function(){var t=e(this),a=t.height(),r=t.parent().next(".car-image-content").children().outerHeight(),i=parseInt(r)-parseInt(a);i>0&&window.matchMedia("(min-width: 1200px)").matches?t.css({"padding-top":i/2+"px","padding-bottom":i/2+"px"}):t.css({"padding-top":"","padding-bottom":""})}))}},e(document).ready((function(){e("body").hasClass("elementor-editor-active")||AMOTOS_car_featured.init()}))}(jQuery);