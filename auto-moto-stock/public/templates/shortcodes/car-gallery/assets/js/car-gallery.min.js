!function(e){"use strict";var t=!0,i={vars:{filter_id:"",car_items:[]},init:function(){this.filterCarousel(),this.filterRow(),this.resize(),AMOTOS.select_term()},filterCarousel:function(){e('.amotos-car-gallery [data-filter-type="carousel"]').each((function(){var t=e("a",e(this));i.executeFilter("filterCarousel",t)}))},filterRow:function(){var a=e('.amotos-car-gallery [data-filter-type="filter"]'),r=a.data("item"),s=e("body").hasClass("rtl");void 0===r&&(r=".car-item"),e('[data-layout="fitRows"]').each((function(){var t=e(this);t.imagesLoaded((function(){t.isotope({itemSelector:r,layoutMode:"fitRows",isOriginLeft:!s,transitionDuration:"0.8s"}).isotope("layout")}))})),e(document).on("vc-tab-clicked",(function(t,i){e('[data-layout="fitRows"]',i).each((function(){e(this).isotope("layout")}))})),e(a).each((function(){if("filter-isotope"==e(this).data("filter-style"))e("a",e(this)).on("click",(function(i){i.preventDefault();var a=e(this).parent().attr("data-filter_id"),r=e('.car-content[data-filter_id="'+a+'"]'),s=!0;if(e(this).hasClass("active-filter")&&(s=!1),t&&s){var o=e(this).attr("data-filter");r.isotope({filter:o}),e(this).parent().children("a").css("cursor","pointer"),e(this).parent().children("a").removeClass("active-filter"),e(this).addClass("active-filter"),e(this).css("cursor","not-allowed");var c=e(this).parent().next().children("select");c.removeAttr("disabled"),c.children("option").removeAttr("selected"),c.children('option[value="'+o+'"]').attr("selected","selected"),c.val()!=o&&c.selectize()[0].selectize.setValue(o)}}));else{var a=e("a",e(this));i.executeFilter("filterRow",a)}}))},executeFilter:function(a,r){r.on("click",(function(s){s.preventDefault();var o=e(this),c=o.parent().attr("data-filter_id"),l=e('.car-content[data-filter_id="'+c+'"]'),n=l.parent();if(o.hasClass("active-filter"))return o.css("cursor","not-allowed"),!1;if(o.parent().children("a").css("cursor","wait"),t){t=!1;var d=o.data("filter"),f=o.parent().next().children("select");if(i.vars.filter_id=o.parent().data("filter_id"),o.parent().find(".active-filter").removeClass("active-filter"),o.addClass("active-filter"),n.css("height",n.outerHeight()),void 0===i.vars.car_items[d+"-"+i.vars.filter_id]){o.css("width",o.outerWidth());var u=o.data("filter");"*"===u&&(u="");var h=r.closest(".filter-inner").data("admin-url");e.ajax({url:h,data:{action:"amotos_car_gallery_fillter_ajax",is_carousel:o.parent().data("is-carousel"),columns_gap:o.parent().data("columns-gap"),columns:o.parent().data("columns"),car_type:u,item_amount:o.parent().data("item-amount"),image_size:o.parent().data("image-size"),color_scheme:o.parent().data("color_scheme")},success:function(r){var s=e(".car-item",r);i.vars.car_items[d+"-"+i.vars.filter_id]=r,l.css("opacity",0),"filterRow"==a?l.isotope("destroy"):l.trigger("destroy.owl.carousel"),l.html(s),"filterRow"==a&&AMOTOS.set_item_effect(s,"hide"),l.css("opacity",1),l.imagesLoaded((function(){"filterCarousel"==a?(AMOTOS.set_item_effect(s,"hide"),AMOTOS_Carousel.owlCarousel()):i.filterRow(),s=e(".car-item",l),AMOTOS.set_item_effect(s,"show"),setTimeout((function(){n.css("height","auto")}),200)})),setTimeout((function(){o.css("width","auto")}),100),t=!0,f.removeAttr("disabled"),f.children("option").removeAttr("selected"),f.children('option[value="'+d+'"]').attr("selected","selected"),o.parent().children("a").css("cursor","pointer"),o.parent().children(".active-filter").css("cursor","not-allowed")},error:function(){t=!0}})}else{var m=i.vars.car_items[d+"-"+i.vars.filter_id],v=e(".car-item",m);"filterRow"==a&&l.isotope("destroy"),l.css("opacity",0),"filterCarousel"==a&&l.trigger("destroy.owl.carousel"),l.html(v),AMOTOS.set_item_effect(v,"hide"),l.css("opacity",1),"filterCarousel"==a&&AMOTOS_Carousel.owlCarousel(),l.imagesLoaded((function(){v=e(".car-item",l),AMOTOS.set_item_effect(v,"show"),setTimeout((function(){n.css("height","auto")}),200),"filterRow"==a&&i.filterRow()})),t=!0,f.removeAttr("disabled"),f.children("option").removeAttr("selected"),f.children('option[value="'+d+'"]').attr("selected","selected"),o.parent().children("a").css("cursor","pointer"),o.parent().children(".active-filter").css("cursor","not-allowed")}}}))},resize:function(){e(window).resize((function(){i.executeResize()})),e(window).on("orientationchange",(function(){i.executeResize()}))},executeResize:function(){e(".car-content.owl-carousel").each((function(){var t=e(this);setTimeout((function(){var i=e(".car-item",t);AMOTOS.set_item_effect(i,"show")}),500)}))}};e(document).ready((function(){e("body").hasClass("elementor-editor-active")||i.init()}))}(jQuery);